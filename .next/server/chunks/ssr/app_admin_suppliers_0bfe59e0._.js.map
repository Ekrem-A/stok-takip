{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ekrem/OneDrive/Masa%C3%BCst%C3%BC/Stok/stok-takip/app/admin/suppliers/SupplierModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport  supabase  from '@/lib/supabase';\r\n\r\ninterface Supplier {\r\n  id?: string;\r\n  name: string;\r\n  status: string;\r\n  contact_name: string;\r\n  email: string;\r\n  phone: string;\r\n  address: string;\r\n  city: string;\r\n  state: string;\r\n  postal_code: string;\r\n  country: string;\r\n  notes: string;\r\n}\r\n\r\ninterface Props {\r\n  supplier: Supplier;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function SupplierModal({ supplier, onClose }: Props) {\r\n  const [form, setForm] = useState<Supplier>({ ...supplier });\r\n  const [editing, setEditing] = useState(!supplier.id);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (form.id) {\r\n      await supabase.from('suppliers').update(form).eq('id', form.id);\r\n    } else {\r\n      await supabase.from('suppliers').insert(form);\r\n    }\r\n    onClose();\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (form.id && confirm('Are you sure you want to delete this supplier?')) {\r\n      await supabase.from('suppliers').delete().eq('id', form.id);\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-30 z-50 flex justify-center items-start pt-12\">\r\n      <div className=\"bg-white w-full max-w-2xl rounded-md p-6 relative\">\r\n        <button onClick={onClose} className=\"absolute top-3 right-3 text-gray-500 text-xl\">×</button>\r\n\r\n        <h2 className=\"text-xl font-semibold mb-1\">\r\n          {form.id ? 'Edit Supplier' : 'Add Supplier'}\r\n        </h2>\r\n        <p className=\"text-sm text-gray-500 mb-6\">\r\n          {form.id ? `Update supplier information for ${form.name}.` : 'Fill out the supplier information.'}\r\n        </p>\r\n\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Supplier Name*</label>\r\n            <input\r\n              name=\"name\"\r\n              value={form.name}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Status</label>\r\n            <select\r\n              name=\"status\"\r\n              value={form.status}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            >\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"inactive\">Inactive</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Contact Person</label>\r\n            <input\r\n              name=\"contact_name\"\r\n              value={form.contact_name}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Email</label>\r\n            <input\r\n              name=\"email\"\r\n              type=\"email\"\r\n              value={form.email}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Phone</label>\r\n            <input\r\n              name=\"phone\"\r\n              value={form.phone}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Address</label>\r\n            <input\r\n              name=\"address\"\r\n              value={form.address}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">City</label>\r\n            <input\r\n              name=\"city\"\r\n              value={form.city}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">State/Province</label>\r\n            <input\r\n              name=\"state\"\r\n              value={form.state}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Postal Code</label>\r\n            <input\r\n              name=\"postal_code\"\r\n              value={form.postal_code}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Country</label>\r\n            <input\r\n              name=\"country\"\r\n              value={form.country}\r\n              onChange={handleChange}\r\n              className=\"border w-full p-2 rounded mt-1\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          <label className=\"text-sm font-medium\">Notes</label>\r\n          <textarea\r\n            name=\"notes\"\r\n            value={form.notes}\r\n            onChange={handleChange}\r\n            className=\"border w-full p-2 rounded mt-1\"\r\n            rows={3}\r\n            placeholder=\"Add any relevant information about this supplier...\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex justify-between items-center mt-6\">\r\n          {form.id && (\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"text-red-600 hover:underline text-sm\"\r\n            >\r\n              Delete Supplier\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={handleSave}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n          >\r\n            {form.id ? 'Update Supplier' : 'Create Supplier'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 435, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ekrem/OneDrive/Masa%C3%BCst%C3%BC/Stok/stok-takip/app/admin/suppliers/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport  supabase  from '@/lib/supabase';\r\nimport SupplierModal from './SupplierModal';\r\nimport Link from 'next/link';\r\n\r\ninterface Supplier {\r\n  id?: string;\r\n  name: string;\r\n  status: string;\r\n  contact_name: string;\r\n  email: string;\r\n  phone: string;\r\n  address: string;\r\n  city: string;\r\n  state: string;\r\n  postal_code: string;\r\n  country: string;\r\n  notes: string;\r\n}\r\nconst emptySupplier: Supplier = {\r\n  name: '',\r\n  status: 'active',\r\n  contact_name: '',\r\n  email: '',\r\n  phone: '',\r\n  address: '',\r\n  city: '',\r\n  state: '',\r\n  postal_code: '',\r\n  country: '',\r\n  notes: '',\r\n};\r\n\r\n\r\nexport default function SuppliersPage() {\r\n  const [suppliers, setSuppliers] = useState<Supplier[]>([]);\r\n  const [selectedSupplier, setSelectedSupplier] = useState<Supplier | null>(null);\r\n  const [search, setSearch] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('All');\r\n\r\n  const fetchSuppliers = async () => {\r\n    const { data, error } = await supabase.from('suppliers').select('*');\r\n    if (!error) setSuppliers(data || []);\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    fetchSuppliers();\r\n  }, []);\r\n\r\n  const filtered = suppliers.filter((s) => {\r\n    const matchText = `${s.name} ${s.contact_name} ${s.email}`.toLowerCase();\r\n    return (\r\n      matchText.includes(search.toLowerCase()) &&\r\n      (statusFilter === 'All' || s.status.toLowerCase() === statusFilter.toLowerCase())\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-semibold\">Suppliers</h1>\r\n        <button\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n          onClick={() => setSelectedSupplier({} as Supplier)}\r\n        >\r\n          + Add Supplier\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search + Filter */}\r\n      <div className=\"flex gap-4 mb-6\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search suppliers...\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"border px-3 py-2 rounded w-full max-w-md\"\r\n        />\r\n        <select\r\n          value={statusFilter}\r\n          onChange={(e) => setStatusFilter(e.target.value)}\r\n          className=\"border px-3 py-2 rounded\"\r\n        >\r\n          <option value=\"All\">All Statuses</option>\r\n          <option value=\"Active\">Active</option>\r\n          <option value=\"Inactive\">Inactive</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* Supplier Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {filtered.map((s) => (\r\n          <div key={s.id} className=\"bg-white border rounded-lg p-6 shadow-sm relative\">\r\n            <div className=\"absolute top-4 right-4\">\r\n              <span className=\"text-xs bg-blue-500 text-white px-2 py-1 rounded\">\r\n                {s.status}\r\n              </span>\r\n            </div>\r\n\r\n            <h2 className=\"font-bold text-lg\">{s.name}</h2>\r\n            <p className=\"text-sm text-gray-600 mb-2\"> {s.contact_name}</p>\r\n\r\n            <p className=\"text-sm text-gray-700\">📞 {s.phone}</p>\r\n            <p className=\"text-sm text-gray-700\">✉️ {s.email}</p>\r\n            <p className=\"text-sm text-gray-700\">📍 {s.city}, {s.country}</p>\r\n\r\n            <div className=\"flex justify-between mt-4\">\r\n              <button\r\n                onClick={() => setSelectedSupplier(emptySupplier)}\r\n                className=\"text-sm px-4 py-1 border rounded hover:bg-gray-100\"\r\n              >\r\n                View Details\r\n              </button>\r\n              <Link\r\n                href={`/admin/suppliers/${s.id}/products`}\r\n                className=\"text-sm text-blue-600 hover:underline\"\r\n              >\r\n                View Products\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {selectedSupplier && (\r\n        <SupplierModal\r\n          supplier={selectedSupplier}\r\n          onClose={() => {\r\n            setSelectedSupplier(null);\r\n            fetchSuppliers(); // güncelleme sonrası liste yenile\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}