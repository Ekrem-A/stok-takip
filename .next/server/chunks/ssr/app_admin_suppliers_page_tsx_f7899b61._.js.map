{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ekrem/OneDrive/Masa%C3%BCst%C3%BC/Stok/stok-takip/app/admin/suppliers/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport  supabase  from '@/lib/supabase';\r\nimport SupplierModal from './SupplierModal';\r\nimport Link from 'next/link';\r\n\r\ninterface Supplier {\r\n  id?: string;\r\n  name: string;\r\n  status: string;\r\n  contact_name: string;\r\n  email: string;\r\n  phone: string;\r\n  address: string;\r\n  city: string;\r\n  state: string;\r\n  postal_code: string;\r\n  country: string;\r\n  notes: string;\r\n}\r\nconst emptySupplier: Supplier = {\r\n  name: '',\r\n  status: 'active',\r\n  contact_name: '',\r\n  email: '',\r\n  phone: '',\r\n  address: '',\r\n  city: '',\r\n  state: '',\r\n  postal_code: '',\r\n  country: '',\r\n  notes: '',\r\n};\r\n\r\n\r\nexport default function SuppliersPage() {\r\n  const [suppliers, setSuppliers] = useState<Supplier[]>([]);\r\n  const [selectedSupplier, setSelectedSupplier] = useState<Supplier | null>(null);\r\n  const [search, setSearch] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('All');\r\n\r\n  const fetchSuppliers = async () => {\r\n    const { data, error } = await supabase.from('suppliers').select('*');\r\n    if (!error) setSuppliers(data || []);\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    fetchSuppliers();\r\n  }, []);\r\n\r\n  const filtered = suppliers.filter((s) => {\r\n    const matchText = `${s.name} ${s.contact_name} ${s.email}`.toLowerCase();\r\n    return (\r\n      matchText.includes(search.toLowerCase()) &&\r\n      (statusFilter === 'All' || s.status.toLowerCase() === statusFilter.toLowerCase())\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-semibold\">Suppliers</h1>\r\n        <button\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n          onClick={() => setSelectedSupplier({} as Supplier)}\r\n        >\r\n          + Add Supplier\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search + Filter */}\r\n      <div className=\"flex gap-4 mb-6\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search suppliers...\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"border px-3 py-2 rounded w-full max-w-md\"\r\n        />\r\n        <select\r\n          value={statusFilter}\r\n          onChange={(e) => setStatusFilter(e.target.value)}\r\n          className=\"border px-3 py-2 rounded\"\r\n        >\r\n          <option value=\"All\">All Statuses</option>\r\n          <option value=\"Active\">Active</option>\r\n          <option value=\"Inactive\">Inactive</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* Supplier Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {filtered.map((s) => (\r\n          <div key={s.id} className=\"bg-white border rounded-lg p-6 shadow-sm relative\">\r\n            <div className=\"absolute top-4 right-4\">\r\n              <span className=\"text-xs bg-blue-500 text-white px-2 py-1 rounded\">\r\n                {s.status}\r\n              </span>\r\n            </div>\r\n\r\n            <h2 className=\"font-bold text-lg\">{s.name}</h2>\r\n            <p className=\"text-sm text-gray-600 mb-2\"> {s.contact_name}</p>\r\n\r\n            <p className=\"text-sm text-gray-700\">üìû {s.phone}</p>\r\n            <p className=\"text-sm text-gray-700\">‚úâÔ∏è {s.email}</p>\r\n            <p className=\"text-sm text-gray-700\">üìç {s.city}, {s.country}</p>\r\n\r\n            <div className=\"flex justify-between mt-4\">\r\n              <button\r\n                onClick={() => setSelectedSupplier(emptySupplier)}\r\n                className=\"text-sm px-4 py-1 border rounded hover:bg-gray-100\"\r\n              >\r\n                View Details\r\n              </button>\r\n              <Link\r\n                href={`/admin/suppliers/${s.id}/products`}\r\n                className=\"text-sm text-blue-600 hover:underline\"\r\n              >\r\n                View Products\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {selectedSupplier && (\r\n        <SupplierModal\r\n          supplier={selectedSupplier}\r\n          onClose={() => {\r\n            setSelectedSupplier(null);\r\n            fetchSuppliers(); // g√ºncelleme sonrasƒ± liste yenile\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;;;;AAEA;AALA;;;;;;AAqBA,MAAM,gBAA0B;IAC9B,MAAM;IACN,QAAQ;IACR,cAAc;IACd,OAAO;IACP,OAAO;IACP,SAAS;IACT,MAAM;IACN,OAAO;IACP,aAAa;IACb,SAAS;IACT,OAAO;AACT;AAGe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IACzD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,iBAAiB;QACrB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,+GAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC;QAChE,IAAI,CAAC,OAAO,aAAa,QAAQ,EAAE;IACrC;IAGA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,MAAM,WAAW,UAAU,MAAM,CAAC,CAAC;QACjC,MAAM,YAAY,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,WAAW;QACtE,OACE,UAAU,QAAQ,CAAC,OAAO,WAAW,OACrC,CAAC,iBAAiB,SAAS,EAAE,MAAM,CAAC,WAAW,OAAO,aAAa,WAAW,EAAE;IAEpF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,oBAAoB,CAAC;kCACrC;;;;;;;;;;;;0BAMH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;wBACzC,WAAU;;;;;;kCAEZ,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;wBAC/C,WAAU;;0CAEV,8OAAC;gCAAO,OAAM;0CAAM;;;;;;0CACpB,8OAAC;gCAAO,OAAM;0CAAS;;;;;;0CACvB,8OAAC;gCAAO,OAAM;0CAAW;;;;;;;;;;;;;;;;;;0BAK7B,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,kBACb,8OAAC;wBAAe,WAAU;;0CACxB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAK,WAAU;8CACb,EAAE,MAAM;;;;;;;;;;;0CAIb,8OAAC;gCAAG,WAAU;0CAAqB,EAAE,IAAI;;;;;;0CACzC,8OAAC;gCAAE,WAAU;;oCAA6B;oCAAE,EAAE,YAAY;;;;;;;0CAE1D,8OAAC;gCAAE,WAAU;;oCAAwB;oCAAI,EAAE,KAAK;;;;;;;0CAChD,8OAAC;gCAAE,WAAU;;oCAAwB;oCAAI,EAAE,KAAK;;;;;;;0CAChD,8OAAC;gCAAE,WAAU;;oCAAwB;oCAAI,EAAE,IAAI;oCAAC;oCAAG,EAAE,OAAO;;;;;;;0CAE5D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS,IAAM,oBAAoB;wCACnC,WAAU;kDACX;;;;;;kDAGD,8OAAC,4JAAA,CAAA,UAAI;wCACH,MAAM,CAAC,iBAAiB,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC;wCACzC,WAAU;kDACX;;;;;;;;;;;;;uBAxBK,EAAE,EAAE;;;;;;;;;;YAiCjB,kCACC,8OAAC;gBACC,UAAU;gBACV,SAAS;oBACP,oBAAoB;oBACpB,kBAAkB,kCAAkC;gBACtD;;;;;;;;;;;;AAKV","debugId":null}}]
}