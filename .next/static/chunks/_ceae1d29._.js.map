{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ekrem/OneDrive/Masa%C3%BCst%C3%BC/Stok/stok-takip/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);\r\n\r\nexport default supabase;\r\n"],"names":[],"mappings":";;;AAGE;AAHF;;AAEA,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD;uCAKb","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ekrem/OneDrive/Masa%C3%BCst%C3%BC/Stok/stok-takip/app/admin/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport  supabase  from '@/lib/supabase';\r\n\r\nexport default function AdminPanel() {\r\n  const [products, setProducts] = useState<any[]>([]);\r\n  const [name, setName] = useState('');\r\n  const [stock, setStock] = useState(0);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      const { data } = await supabase.auth.getUser();\r\n      if (!data.user) router.push('/login');\r\n    };\r\n    checkAuth();\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const fetchProducts = async () => {\r\n    const res = await fetch('/api/products');\r\n    const data = await res.json();\r\n    setProducts(data);\r\n  };\r\n\r\n  const addProduct = async () => {\r\n    await fetch('/api/products', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ name, stock }),\r\n    });\r\n    setName('');\r\n    setStock(0);\r\n    fetchProducts();\r\n  };\r\n\r\n  const deleteProduct = async (id: string) => {\r\n    await fetch(`/api/products/${id}`, { method: 'DELETE' });\r\n    fetchProducts();\r\n  };\r\n\r\n  return (\r\n    <main className=\"max-w-2xl mx-auto p-4 space-y-6\">\r\n      <h1 className=\"text-2xl font-bold\">Admin Paneli</h1>\r\n\r\n      <div className=\"flex gap-2\">\r\n        <input\r\n          placeholder=\"Ürün adı\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          className=\"border p-2 flex-1 rounded\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Stok\"\r\n          value={stock}\r\n          onChange={(e) => setStock(Number(e.target.value))}\r\n          className=\"border p-2 w-24 rounded\"\r\n        />\r\n        <button onClick={addProduct} className=\"bg-blue-600 text-white px-4 rounded\">\r\n          Ekle\r\n        </button>\r\n      </div>\r\n\r\n      <ul className=\"space-y-2\">\r\n        {products.map((p) => (\r\n          <li key={p.id} className=\"border p-2 rounded flex justify-between\">\r\n            <div>\r\n              <strong>{p.name}</strong> — {p.stock} adet\r\n            </div>\r\n            <button onClick={() => deleteProduct(p.id)} className=\"text-red-600 hover:underline\">\r\n              Sil\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAClD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM;kDAAY;oBAChB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,kHAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,OAAO;oBAC5C,IAAI,CAAC,KAAK,IAAI,EAAE,OAAO,IAAI,CAAC;gBAC9B;;YACA;YACA;QACF;+BAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,MAAM,MAAM,MAAM,MAAM;QACxB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,YAAY;IACd;IAEA,MAAM,aAAa;QACjB,MAAM,MAAM,iBAAiB;YAC3B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAM;YAAM;QACrC;QACA,QAAQ;QACR,SAAS;QACT;IACF;IAEA,MAAM,gBAAgB,OAAO;QAC3B,MAAM,MAAM,CAAC,cAAc,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;QACtD;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAEnC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;wBAC/C,WAAU;;;;;;kCAEZ,6LAAC;wBAAO,SAAS;wBAAY,WAAU;kCAAsC;;;;;;;;;;;;0BAK/E,6LAAC;gBAAG,WAAU;0BACX,SAAS,GAAG,CAAC,CAAC,kBACb,6LAAC;wBAAc,WAAU;;0CACvB,6LAAC;;kDACC,6LAAC;kDAAQ,EAAE,IAAI;;;;;;oCAAU;oCAAI,EAAE,KAAK;oCAAC;;;;;;;0CAEvC,6LAAC;gCAAO,SAAS,IAAM,cAAc,EAAE,EAAE;gCAAG,WAAU;0CAA+B;;;;;;;uBAJ9E,EAAE,EAAE;;;;;;;;;;;;;;;;AAYvB;GAzEwB;;QAIP,qIAAA,CAAA,YAAS;;;KAJF","debugId":null}}]
}